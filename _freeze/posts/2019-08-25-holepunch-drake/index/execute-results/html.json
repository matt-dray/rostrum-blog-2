{
  "hash": "3d30c609ff11583d27bfaefb0bdedf87",
  "result": {
    "markdown": "---\ntitle: \"{holepunch} a {drake} and put it in a Binder\"\ndate: 2019-08-25\nslug: holepunch-drake\ncategories:\n  - binder\n  - docker\n  - drake\n  - r\n  - reproducibility\n  - rstudio\n---\n\n\n![drake-meme.jpg](resources/drake-meme.jpg){fig-alt=\"A Drake meme, where Drake, the musician, reacts negatively to GitHub's 'clone or download' button and positively to the 'launch binder' repo badge.\" width=\"50%\" fig-align=\"left\"}\n\n## tl;dr\n\n[Binder](https://mybinder.org/) lets people explore your GitHub-based R code in a live, browser-based instance of RStudio -- for free. Set-up for R projects is quick with [{holepunch}]((https://karthik.github.io/holepunch/)).\n\nI've used {holepunch} on [my {drake} demo repo](https://github.com/matt-dray/drake-egg-rap). Click the 'launch binder' badge in the repo's README.\n\n## Icing on the {drake}\n\n[I wrote](https://www.rostrum.blog/2019/07/23/can-drake-rap/) about how [Will Landau](https://twitter.com/wmlandau)'s excellent [{drake} package](https://ropensci.github.io/drake/) could be used to minimise errors and speed up the production of statistical reports by the UK government. I put a demo of this [in a GitHub repo](https://github.com/matt-dray/drake-egg-rap).\n\nThere are two things I'd like:\n\n1. To improve trust further, citizens should be able to quickly open and explore the code behind a statistical report in the environment that the analyst was actually working in, with the correct R version and package dependencies.\n1. When I'm demonstrating the {drake} example, everyone in the room should have access to the same, consistent environment. This will minimise technical issues and ensure the code is being run in the intended environment.\n\nTurns out that these issues can be solved with [Binder](https://mybinder.org/). Point 1 is addressed by adding a special badge to your README. This helps solve Point 2, proven by Landau in his [{learndrake} course-in-a-package](https://github.com/wlandau/learndrake) repo.\n\nBut what is Binder?\n\n## In a Bind(er)\n\n[Binder](https://mybinder.org/) is an open source project that makes it easier to share and explore the code from a GitHub repository.\n\nThe repo owner specifies an environment (e.g. R version and package dependencies) and people can click a badge in the README to launch the code in a live instance of RStudio. Magic.\n\nHere's what the Binder badge looks like in the README:\n\n![](resources/binder-badge.png){fig-alt=\"The README for the drake-egg-rap repo showing the Binder badge.\" width=\"100%\"}\n\nClick it to launch the Binder loading page:\n\n![](resources/binder-load.png){fig-alt=\"The Binder launch page saying 'starting repository' with the name of GitHub repository.\" width=\"100%\"}\n\nThat results in RStudio being launched in the browser with all the folders and files from the repo:\n\n![](resources/rstudio-browser.png){fig-alt=\"RStudio in a browser window, showing R's start-up text in the console pane and the contents of the home folder in the files pane.\" width=\"100%\"}\n\nSome caveats:\n\n* This may take a short while to load. You may need to retry the build or try a different browser if it fails to load at all.\n* It may not be available for free forever.\n* There's a maximum repo size of a couple of gigabytes.\n\n## {holepunch}-drunk\n\nBut wait: [Karthik Ram](http://inundata.org/) has made [the {holepunch} package](https://karthik.github.io/holepunch/) so that R users can set up Binder for their repo in a just a few lines of code.\n\nDo [read the docs](https://karthik.github.io/holepunch/), but after `install.packages(\"holepunch\")` and `library(holepunch)`:\n\n1. `write_compendium_description()` to create a DESCRIPTION file listing the repo's dependencies ([just like what you need for an R package](http://r-pkgs.had.co.nz/description.html))\n1. `write_dockerfile()` to set up a [dockerfile](https://docs.docker.com/get-started/part2/) (from [The Rocker Project](https://www.rocker-project.org/)) that installs RStudio and an R version of your choice\n1. `generate_badge()` to get some code for a 'launch binder' badge that you can copy-paste to your repo's README\n\nThen you can push the changes to GitHub and the 'launch binder' badge will appear your README. Clicking it generates an RStudio instance with the specifications as per the DESCRIPTION and dockerfile.\n\nSo, not many steps to achieve something this cool!\n\nRead [Karl Broman](https://kbroman.org/)'s [blog post](https://kbroman.org/blog/2019/02/18/omg_binder/) for another view from an R user and check out Karthik Ram's rstudio::conf 2019 talk ([see the slides](https://github.com/karthik/rstudio2019) or [watch the video](https://resources.rstudio.com/rstudio-conf-2019/a-guide-to-modern-reproducible-data-science-with-r)).\n\n## Environment {.appendix}\n\n<details><summary>Session info</summary>\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\nLast rendered: 2023-07-24 20:40:08 BST\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nR version 4.3.1 (2023-06-16)\nPlatform: aarch64-apple-darwin20 (64-bit)\nRunning under: macOS Ventura 13.2.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Europe/London\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.2 compiler_4.3.1    fastmap_1.1.1     cli_3.6.1        \n [5] tools_4.3.1       htmltools_0.5.5   rstudioapi_0.15.0 yaml_2.3.7       \n [9] rmarkdown_2.23    knitr_1.43.1      jsonlite_1.8.7    xfun_0.39        \n[13] digest_0.6.33     rlang_1.1.1       evaluate_0.21    \n```\n:::\n:::\n\n</details>",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}