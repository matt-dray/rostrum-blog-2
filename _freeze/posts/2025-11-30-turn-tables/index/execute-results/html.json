{
  "hash": "954c8acd8a28abbbc583a8373bf6c683",
  "result": {
    "markdown": "---\ntitle: \"Turning the tables\"\ndate: 2025-11-30\nslug: \"turn-tables\"\nimage: resources/let-go.jpg\ncategories:\n  - a11ytables\n  - aftables\n  - r\n---\n\n\n![](resources/let-go.jpg){fig-align=\"left\" fig-alt=\"Meme of Link from The lEgend of Zelda: Windwaker. The camera is zoomed right up under his chin, his face filling the screen. There's an on-screen instruction to press the 'A' button to 'let go'.\" width=\"50%\"}\n\n## tl;dr\n\n{a11ytables} is dead, long live [{aftables}](https://best-practice-and-impact.github.io/aftables/).\n\n## Regret?\n\nA while back I presented ['Panic! In The Toolshed'](https://www.rostrum.blog/posts/2023-06-13-panic-in-the-toolshed/) about how public-sector data scientists should share code to prevent wheel reinvention[^reuse].\n\nI gave the example of my {a11ytables} R package, which has helped to publish spreadsheets of official statistics that follow [best practices](https://analysisfunction.civilservice.gov.uk/policy-store/releasing-statistics-in-spreadsheets/).\n\nIt got harder to find time to maintain the package. [I hemmed-and-hawed](https://www.rostrum.blog/posts/2024-01-27-a11ytables-0.3/) about its existence and procrastinated two concept packages to make up for its weaknesses[^a11ytables2].\n\nBut then the weight[^weight] was lifted!\n\n## Rehome\n\nThe Analysis Function at the Office for National Statistics (ONS) now host and maintain the package. I can't think of a better home.\n\nTransferring the package GitHub repository was a bit of a dance, passing from the co-analysis org to my personal account and finally the best-practice-and-impact org. I fretted about archiving and forking instead, but a transfer appears not to have caused issues.\n\nAs part of this move, the package has been renamed {aftables}. The 'af' stands for 'Analysis Function' and echoes the related [{afcharts} package](https://best-practice-and-impact.github.io/afcharts/) that helps produce best-practice visualisations.\n\nAs a parting gift, I used [my {gex} package](https://github.com/matt-dray/gex) to make a quick hex logo that echoes the {afcharts} logo: \n\n![](resources/aftables.png){fig-align=\"left\" fig-alt=\"Hex logo for aftables. Multicoloured squares on the lower half echo the cells of a spreadsheet. The name of the package is above the squares. Reminiscent of the hex logo for afcharts and uses the same colour palette.\" width=\"200px\"}\n\nThis renaming hasn't had a major impact as far as I can tell. The team [published a launch blog](https://analysisfunction.civilservice.gov.uk/blog/best-practice-for-automated-spreadsheets-in-r-creating-accessible-spreadsheets-with-aftables/); I updated colleagues via the cross-government Slack; and GitHub auto-rereoutes from [co-analysis/a11ytables](https://github.com/co-analysis/a11ytables) to [best-practice-and-impact/aftables](https://github.com/best-practice-and-impact/aftables).\n\nThe team has already made updates and [submitted successfully to CRAN](https://CRAN.R-project.org/package=aftables) in these past few months, which I definitely didn't have the energy to tackle.\n\nSo now you can just `install.packages(\"aftables\")` to try it out. Simply lovely.\n\n## Relief\n\nSo thank you to the Analysis Function team, particularly Olivia and Zach; to Matt and Tim for their early contributions; and to everyone who has used the package and provided feedback.\n\nPanic? What panic?\n\n### Environment {.appendix}\n\n<details><summary>Session info</summary>\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\nLast rendered: 2025-11-30 16:54:01 GMT\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nR version 4.5.1 (2025-06-13)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Sequoia 15.6.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.1\n\nlocale:\n[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8\n\ntime zone: Europe/London\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.4 compiler_4.5.1    fastmap_1.2.0     cli_3.6.5        \n [5] tools_4.5.1       htmltools_0.5.8.1 yaml_2.3.10       rmarkdown_2.29   \n [9] knitr_1.50        jsonlite_2.0.0    xfun_0.52         digest_0.6.37    \n[13] rlang_1.1.6       evaluate_1.0.4   \n```\n:::\n:::\n\n</details>\n\n[^reuse]: We talk a lot about _reproducibility_ of our work, as we should, but Rhian gave a good talk at the NHS RPySOC 2025 conference about [the power of _reusability_](https://rhian.rbind.io/talks/2024-11-22-reusability/).\n[^a11ytables2]: [{a11ytables2}](https://github.com/matt-dray/a11ytables2) aimed to use a more pipeable approach and to upgrade the package from {openxlsx} to {openxlsx2} (which the Analysis Function team have already done in {aftables}!), while [{yamlsheets}](https://github.com/matt-dray/yamlsheets) attempted to use a text-based YAML 'blueprint' file to declare spreadsheet content.\n[^weight]: The fact I was using phrases like 'panic', 'kill' and 'rebuild' in earlier posts about {a11ytables} tells you something about the entirely self-imposed torment I was inflicting on myself.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}