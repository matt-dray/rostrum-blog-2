{
  "hash": "d9a332514e72847b08fb5643c5ba97d6",
  "result": {
    "markdown": "---\ntitle: Friendship ended with Google Analytics\ndate: 2020-09-16\nslug: goatcounter-blogdown\ncategories:\n  - blog-meta\n  - google-analytics\n  - goatcounter\n---\n\n\n![mudasir.jpg](resources/mudasir.png){fig-alt=\"Classic meme showing two men clasping hands with two inset images of another man with a cross drawn through him, with text reading 'Friendship ended with MUDASIR now SALMAN is my best friend'. The text is edited to replace 'MUDASIR' with 'GOOGLE ANALYTICS' and 'SALMAN' with 'GOATCOUNTER'. Mudasir's face is replaced by the Google Analytics logo and Salman's with Goatcounter's.\" width=\"100%\"}\n\n## tl;dr\n\nThis blog now uses [GoatCounter](https://www.goatcounter.com/) instead of [Google Analytics](https://en.wikipedia.org/wiki/Google_Analytics). GoatCounter is a lightweight and unobtrusive site-visit counter made by developer [Martin Tournoij](https://www.arp242.net).\n\n<div class=\"tip\"> \n`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"/></svg>`{=html} <b>Note</b>\n\nAs of November 2023, I no longer use Goatcounter or any other visitor-counting service. \n\n</div>\n\n## Do blogposts dream of electric goats?\n\n[I write posts on this blog for me and for other learners](https://www.rostrum.blog/2020/02/27/get-blogging/). It's great if people find the content useful or interesting. \n\nBut I don't and never will make money from this site, so why would I care how many visits it gets?\n\nA highly-viewed post indicates to me that the topic is worth talking about. It's a signal that it might be worth writing more about that thing in future. Popular posts might also need updating over time to keep the information up to date.\n\nSo I think I have a use case. Except I don't want to 'track' people; I just want to count visits and views.\n\n## Friendship ended\n\nI've been using [Google Analytics](https://en.wikipedia.org/wiki/Google_Analytics) for this blog since it began in April 2018. Why? My naïve reasons were that it's free, it's ubiquitous and it's easily [implemented in {blogdown}](https://bookdown.org/yihui/blogdown/templates.html).\n\nIt's massively bloated for my use case though. Acquisition reports, revenue per user and cohort analysis are not relevant to me. And I don't even know what they mean.\n\nMore importantly, I'm uncomfortable with various [privacy concerns](https://en.wikipedia.org/wiki/Privacy_concerns_regarding_Google) around the company and platform. I don't need or want you to be the product.\n\nThis change has been a long time coming and follows my earlier removal of [the Disqus comment platform](https://en.wikipedia.org/wiki/Disqus), thanks to [a Maëlle Salmon post](https://masalmon.eu/2019/10/02/disqus/).\n\n## New best friend\n\n[A number of alternatives are available](https://alternativeto.net/software/google-analytics/),[^alt] but I chose [GoatCounter](https://www.goatcounter.com/) by independent developer [Martin Tournoij](https://www.arp242.net). Why?\n\nTo summarise, the large type at the top of [the GoatCounter home page](https://www.goatcounter.com/) says:\n\n> Easy web analytics. No tracking of personal data.\n\nWhat does that encompass?\n\n| What | Explain |\n| :--- | :--- |\n| Privacy | GoatCounter doesn't collect personally-identifiable data and as such it ['probably doesn't require a GDPR consent notice'](https://www.goatcounter.com/gdpr). |\n| Simple web interface | [A clean interface](https://www.goatcounter.com/design) with focus on visits and viewers over time ([see a live demo](https://stats.arp242.net/)).  |\n| Transparent | GoatCounter is [open source](https://github.com/zgoat/goatcounter) and the creator is open about comparisons to other products. |\n| Thoughtful | The creator has [written openly about the rationale](https://github.com/zgoat/goatcounter/blob/master/docs/rationale.markdown) and has considered users of assistive tech. |\n| Free | With paid plans or donations available ([Patreon](https://www.patreon.com/arp242/), [GitHub Sponsors](https://github.com/sponsors/arp242)). |\n| Lightweight | It's less than 3 kb. |\n\n\n## Herding GoatCounter\n\nSwitching to GoatCounter was straightforward. \n\nThis blog was created with the R package [{blogdown}](https://bookdown.org/yihui/blogdown/), which is built on the [Hugo static site generator](https://gohugo.io/), and it's deployed via [Netlify](https://www.netlify.com/). Your mileage may vary, but there were basically three steps:\n\n1. Remove the Google Analytics token from [the site's `config.toml` file](https://github.com/matt-dray/rostrum-blog/blob/master/config.toml).\n1. [Create a GoatCounter account](https://www.goatcounter.com/signup).\n1. Add a single script tag to the `<body>` of your site[^tag].\n\nFor that last step I used [a special Netlify feature that inserts code snippets into the HTML of your site on deployment](https://docs.netlify.com/site-deploys/post-processing/snippet-injection/).[^maxyfc] I didn't have to worry about where to put it in the code of the site.\n\n![Analytics straight into the vein.](resources/inject.png){fig-alt=\"Netlify's HTML injection option confirming the GoatCounter code snippet used to count page visits.\" width=\"100%\"}\n\nYour stats will then be available from a URL in the form `https://yoursite.goatcounter.com`, which you set during the sign-up process.\n\nNow you can start counting sheep. Er... goats.\n\n## Greatest Of All Time (GOAT)\n\nThe switch does mean I'll lose cumulative view counts for posts that already exist, but I'm not bothered about that. I can always export the Google Analytics data and manually add it to GoatCounter's counts.\n\nFor interest, here's the most viewed posts as counted by Google Analytics:\n\n1. [Repaying Tom Nook with {R6}](https://www.rostrum.blog/2020/04/04/repaying-tom-nook-with-r6/) (Apr 2020)\n1. [Packages that Sparked Joy in 2019](https://www.rostrum.blog/2019/12/27/pkgs-2019/) (Dec 2019)\n1. [Package a {xaringan} template](https://www.rostrum.blog/2019/05/24/xaringan-template/) (May 2019)\n1. [Mail merge with R and Dawson's Creek](https://www.rostrum.blog/2018/06/26/mail-merge/) (Jun 2018)\n1. [How do you pronounce {dplyr}?](https://www.rostrum.blog/2019/09/20/say-package/) (Sep 2019)\n\nIn particular, the [post about {R6}](https://www.rostrum.blog/2020/04/04/repaying-tom-nook-with-r6/) is a good example of something I wanted to learn and then blog about for posterity. I think the timing helped in people viewing it, since [Animal Crossing: New Horizons](https://animal-crossing.com/new-horizons/) had just been released to great fanfare. To illustrate the 'zeitgeistiness', this post had the highest view spike of any post and has settled down a great deal since then.\n\nThe ['mail merge' post](https://www.rostrum.blog/2018/06/26/mail-merge/) is a good example of [that classic David Robinson tweet](https://twitter.com/drob/status/928447584712253440?s=20): \n\n> When you’ve written the same code 3 times, write a function. When you’ve given the same in-person advice 3 times, write a blog post\n\nGiven its popularity, I also decided to overhaul it to make it more simple and accessible. It also led to a later post on [parameterised R Markdown reports](https://www.rostrum.blog/2020/03/12/knit-with-params/), which I think is actually the better solution in most cases.\n\nI wouldn't have known any of this without having a record of page views, but the method for collecting that data no longer [grinds my goat](https://www.urbandictionary.com/define.php?term=grinds%20my%20goat).\n\n## Environment {.appendix}\n\n<details><summary>Session info</summary>\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\nLast rendered: 2023-11-26 15:40:57 GMT\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nR version 4.3.1 (2023-06-16)\nPlatform: aarch64-apple-darwin20 (64-bit)\nRunning under: macOS Ventura 13.2.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Europe/London\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.2 compiler_4.3.1    fastmap_1.1.1     cli_3.6.1        \n [5] tools_4.3.1       htmltools_0.5.6.1 rstudioapi_0.15.0 yaml_2.3.7       \n [9] rmarkdown_2.25    knitr_1.45        jsonlite_1.8.7    xfun_0.41        \n[13] digest_0.6.33     rlang_1.1.1       fontawesome_0.5.2 evaluate_0.23    \n```\n:::\n:::\n\n</details>\n\n[^alt]: You can read about some further considerations in [a blog by David Papandrew](https://mentalpivot.com/ethical-web-analytics-alternatives-google/).\n[^maxyfc]: Thanks to [a post by Max](https://maxyfc.dev/posts/2020/01/adding-web-analytics/).\n[^tag]: This is provided to you by GoatCounter when you set up an account, but it's just in the form `<script data-goatcounter=\"https://yoursite.goatcounter.com/count\" async src=\"//gc.zgo.at/count.js\"></script>`.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}