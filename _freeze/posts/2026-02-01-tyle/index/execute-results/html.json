{
  "hash": "0004e170032826103021b07f39639995",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"A roguelike-like with tyle\"\ndate: 2026-02-01\nslug: \"tyle\"\nimage: resources/tyle.png\ncategories:\n  - cli\n  - python\n  - tyle\n  - uv\n---\n\n![](resources/tyle-grid.png){fig-align=\"left\" fig-alt=\"A 10 by 10 grid of characters printed to a macOS terminal. Tiles are mostly period characters, with some hashmark characters, and an at symbol near the middle. A prompt underneath reads 'Move (WASD)+Enter:', ready for user input.\" width=\"100%\"}\n\n## tl;dr\n\nI'm writing [tyle](https://github.com/matt-dray/tyle) to help in my quest to slay Python.\n\n## Very early access\n\nI've started 'tyle', a concept Python CLI that contains the foundations for a little in-terminal tile- and turn-based game.\n\nThe rudimentary tool is available to install [from GitHub](https://github.com/matt-dray/tyle) (v0.1.0 at time of writing).\nI like [uv](https://docs.astral.sh/uv/) for this job[^tool]:\n\n```bash\nuv tool install git+https://github.com/matt-dray/tyle.git\n```\n\nThen you can start a 'game' (heavy emphasis on those quote marks) from your terminal by typing:\n\n```bash\ntyle\n```\n```\n.......#..\n..........\n.##..#....\n....#....#\n......#...\n.....@....\n..#.......\n........#.\n..........\n....#.....\nMove (WASD+Enter): \n```\n\nThe gameboard is just a tile grid printed to the terminal.\nYou (the `@` symbol) can travel around the floor tiles (`.`), but not through obstacles (randomly-placed `#`) or off the map. \n\nAt the prompt you can type <kbd>W</kbd> and <kbd>Enter</kbd> to move up, for example.\n<kbd>Q</kbd> and <kbd>Enter</kbd> will quit.\n\nAaand that's it for now.\n\n<div class=\"tip\"> \n`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"/></svg>`{=html} <b>Note</b>\n\nA quick update on changes in v0.2.0, made immediately after this post.\nI've added CLI options so you can do something like `tyle -r 10 -c 20 -w 25` to set the starting count of `--rows`, `--columns` and `--walls` (see `tyle -h` for help).\nI also adjusted the column- and wall-count defaults and added a space between adjacent tiles; and introduced colours (but only if your terminal suports [ANSI codes](https://en.wikipedia.org/wiki/ANSI_escape_code), like zsh in the gif below).\n\n![](resources/tyle.gif){fig-align=\"left\" width=\"50%\" fig-alt=\"A 10 by 20 grid of characters printed to a zsh terminal. The majority are floor tiles, which are are grey period symbols. Randomly-placed walls are red hash symbols. The player is a yellow at symbol in the middle. A prompt underneath reads 'Move (WASD)+Enter:', ready for user input. The user inputs values to make the at symbol move around the tiles.\"}\n</div>\n\n## Gone rogue\n\nThis game style and ASCII-text 'graphics' may be familiar as the blueprint for [the classic dungeoncrawling videogame _Rogue_](https://en.wikipedia.org/wiki/Rogue_(video_game)) (1980).\n\nOther key features are turn-based interaction, procedurally-generated environments and player permadeath. \nLater games aped and adapted these features, giving rise to the ['roguelike' and 'roguelite'](https://en.wikipedia.org/wiki/Roguelike) genres.\n\nThe scope for tyle is far tighter: I promise nothing.\nSo let's call this a 'roguelike-like' for now.\n\n## A sidequest\n\nTo explain the lore, I've been making some twee CLI projects to help me learn Python.\nFirst [jot](https://github.com/matt-dray/jot) for recording little timestamped notes[^jot], then [pet](https://github.com/matt-dray/pet) for a mini cyberpet experience.\n\ntyle is also a Python-backed CLI, but is helping me learn more about object-oriented programming and building my own [classes](https://www.w3schools.com/python/python_classes.asp), specifically.\nIt's nice to organise code into object 'types' that contain their own variables (properties) and functions (methods).\n\nAs someone with a background in R, I tend to think every nail can be hammered with a function.\nR supports classes, of course, most recently with [the {S7} package](https://rconsortium.github.io/S7/index.html)[^frivolity].\nBut the approach feels far more at home in Python with its greater focus on 'programming' than 'doing statistics'[^take].\n\n## A class act\n\nFirst, a high-level overview of what tyle's three main classes represent:\n\n* `Tile` represents each square on the grid\n* `TileGrid` represents the whole grid of tiles\n* `Entity` represents the player character\n\nEach of these have properties and methods that allow them to store data and be queried in certain ways:\n\n* `Tile` objects store their representative symbol (e.g. `#`) and if they can be traversed\n* `TileGrid` objects store and print the tile grid, while also assessing player movement\n* `Entity` objects store tile coordinates and hit points for the player\n\nA tile-grid object is composed of many tile objects.\nSome tiles are designated as floor tiles (`.`) and others as walls (`#`).\nThink of the tile-grid as the 'terrain' layer of the game.\n\nThe player is not part of the terrain layer, but exists independently and carries its own coordinate properties. \nWhen printing the tilegrid with a drawing method, the player's symbol (`@`) is printed preferentially.\nThere's logic to prevent the player from moving to non-traversable places (walls or off the map).\n\n### Grouting\n\nWhat does it look like to set up one of these classes?\n\nHere's an example from [the `tiles.py` file](https://github.com/matt-dray/tyle/tree/main/src/tyle).\nThe simplest possible example is `Tile`:\n\n```python\nclass Tile:\n    def __init__(self, symbol: str, traversable: bool) -> None:\n        self.symbol = symbol\n        self.traversable = traversable\n```\n\nI've shown the type hints[^ty] but hidden the docstrings for brevity.\n\nTo summarise, you:\n\n1. Declare with `class`.\n2. Use an UpperCamelCase name by convention.\n3. `def`ine a function to `__init__`ialise the class, with reference to:\n    a. `self`, i.e. a reference to the class instance itself.\n    b. 'normal' function arguments (`symbol` is the text character representing the tile and `traversable` is whether the tile can be moved across).\n4. Set properties that may just be the arguments, or passed through other functions.\n5. `def`ine functions (methods) within the body of the class (not shown here because the `Tile` class doesn't currently have any).\n\nAnd then you can initiate a single instance like:\n\n```python\ntile = Tile(\".\", True)\n```\n\nYou can then check parameters and run methods from the class.\nFor example, we can use dot notation on our `Tile` instance to access the `symbol` parameter:\n\n```python\ntile.symbol\n```\n```\n'.'\n```\n\n### Fire up the griddle\n\nHow does tyle generate a tilegrid from tiles?\n\nCrucially, tile initiates distinct tile objects for every grid position.\nThis means each one can have individual properties, like whether they're a wall tile.\nLater we could give them properties for the presence of booby traps, for example.\n\nWe store the grid of tiles as a two-dimensional list (a list of lists).\nThe index of:\n\n* each list gives the tiles their row number\n* each tile in each list gives them their column number\n\nHere's a simplified part of the `create_grid()` function, which uses [list comprehension](https://www.w3schools.com/python/python_lists_comprehension.asp)[^under] to generate the grid:\n\n```python\ngrid = [\n    [Tile(\"#\", True) for _ in range(n_cols)]\n    for _ in range(n_rows)\n]\n```\n\nPrinting `grid` will reveal the structure.\nSuppose we had `n_rows = n_cols = 2` for a tiny 2 Ã— 2 grid, we'd get something like this:\n\n```\n[[<__main__.Tile at 0x107a22120>, <__main__.Tile at 0x107a23170>],\n [<__main__.Tile at 0x107a236e0>, <__main__.Tile at 0x107a23020>]]\n```\n\nYou can see the list of lists (`[[],[]]`) where each inner list contains two tile objects.\nWe can index into it to get a tile at any given 'coordinates'.\nSo `grid[1][0]` would return the tile in the second row and first column.\n\nYou can see the default printing format for objects, which tells us where it was defined, its class and its unique memory address. Instead, `TileGrid` has a `draw()` method to print instead the `symbol` property of each `Tile` object (i.e. `.` or `#`).\n\n### Upper class\n\nSo that was a very simple example of the `Tile` class in action.\n\nYou can imagine how the `Entity` class has its own parameters like `hp` (hit points) and `TileGrid` has a `draw()` method to print the map to the screen.\n\nLater we could create subclasses from the `Entity` class.\n`Player` and `Enemy` could inherit the properties and methods from `Entity`, but get their own unique ones too.\nMaybe `Player` could have a `name`, while `Enemy` could have a `species` (think `goblin`, `rat` or `ingrate-who-puts-their-dirty-feet-up-on-the-train-seat`).\n\nClasses give us a much more manageable and readable way of organising and dealing with variables and functions.\n\n## Hack\n\n> But I've read about [the {r.oguelike} R package](https://github.com/matt-dray/r.oguelike) on [this blog](https://www.rostrum.blog/index.html#category=r.oguelike) before.\n> Have you run out of ideas?\n\nUh-oh, I've been rumbled.\n\nListen, agitator: an R-function spaghetti was never the 'right' choice.\nNot least because that particular 'game' had to be played in the R console, rather than the terminal directly.\n\nPython is probably more suited to this type of activity.\nIn fact, Python can be used as a full-blown game engine, aided by tools like [PyGame](https://www.pygame.org/docs/).\nIn fact, there are several roguelike-specific packages to help you build roguelikes specifically, like [libtcod](https://github.com/libtcod/libtcod)[^7drl].\n\nI'm ignoring these because I want to use this little project to help me learn Python skills, not roguelike-making skills, specifically.\nClasses, yes, but also stuff like type hints, docstrings, writing modules, creating CLIs, etc.\n\n## Do it with tyle\n\nAs ever, I may stop there[^shot].\nBut there are some obvious improvements that could also strengthen my Python skills.\n\nFor example, a bunch of stuff from {r.oguelike} could be interesting to translate here, like procedural dungeons, enemy battling and pathfinding, and an inventory.\n\nWe should also 'listen' for keyboard input with something like [pynput](https://pynput.readthedocs.io/en/latest/index.html).\nA much more natural approach compared to smashing the <kbd>Enter</kbd> key.\n\nOf course, learning new stuff can feel like navigating through a dungeon full of goblins.\nBut to avoid permadeath of coding skills you've just got to keep going tile-by-tile, amirite?\n\n### Environment {.appendix}\n\n<details><summary>Session info</summary>\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n[project]\nname = \"2026-02-01-tyle\"\nversion = \"0.1.0\"\nrequires-python = \">=3.12\"\ndependencies = []\n```\n\n\n:::\n:::\n\n</details>\n\n[^take]: Wow, a take that's hotter than the sun.\n[^shot]: Take a shot every time you read that phrase on this blog.\n[^frivolity]: I wouldn't dream of taking the cutting edge and [being frivolous with it](https://www.rostrum.blog/posts/2023-02-26-nook-s7/).\n[^tool]: And `uv tool update tyle` and `uv tool uninstall tyle` do what you think they do.\n[^ty]: [Astral](https://astral.sh/) have brought ty out of version beta_BETA_draft_v0.0.0.0.0.900000, huzzah. You can check type hints cheaply [with uv](https://docs.astral.sh/uv/guides/tools/) and without installing anything else, like `uvx ty check`. Or `uvx ruff format` and `uv ruff check` for linting and formatting. Real noice.\n[^jot]: Actually, I've been using jot everyday and it helps me keep track of what I've been doing, which is handy for completing weeknotes and timesheets.\n[^7drl]: Check out entries from [7DRL](https://www.roguebasin.com/index.php?title=Seven_Day_Roguelike_Challenge) (the seven-day roguelike challenge), which includes may games written this way.\n[^under]: And note the use of the underscore convention as a 'placeholder' variable. We don't need to name the variable because we're not actually using it.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}