<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matt Dray">
<meta name="dcterms.date" content="2021-06-26">

<title>rostrum.blog - Generate an {emojiscape}</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/logo-green-trans.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/logo-green-trans.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">rostrum.blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target=""><i class="bi bi-question-circle-fill" role="img">
</i> 
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.xml" rel="" target=""><i class="bi bi-rss-fill" role="img" aria-label="RSS feed">
</i> 
 <span class="menu-text">RSS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/matt-dray/rostrum-blog-2" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub source code">
</i> 
 <span class="menu-text">Source</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Generate an {emojiscape}</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">emoji</div>
                <div class="quarto-category">emojiscape</div>
                <div class="quarto-category">r</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Matt Dray </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 26, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p><img src="resources/emojiscape.gif" class="img-fluid" style="width:75.0%" alt="Animation of an RStudio window where the generate function from emojiscape is being used to render to the console a 10 by 10 grid of emoji with a city theme, followed by an undergrowth scene with a smaller grid size, followed by the printing of a dataframe showing the set of emoji associated with the liminal scene, which are a large white square, a door and a lightbulb."></p>
<section id="tldr" class="level2">
<h2 class="anchored" data-anchor-id="tldr">tl;dr</h2>
<p>You can print a little emoji scene to your R console with <a href="https://github.com/matt-dray/emojiscape">the {emojiscape} package</a>.</p>
</section>
<section id="really" class="level2">
<h2 class="anchored" data-anchor-id="really">Really?</h2>
<p>Regular readers will know that this blog is where I implement whimsical R daydreams. Today is no exception: I’ve made a tiny package to print a little randomised emoji scene to my console.</p>
<p>Why? I’ve seen people make cute <a href="https://botwiki.org/?s=emoji&amp;search-filters-options%5B%5D=bots">emoji-based bots</a>, which I’ve been interested in after making <a href="https://twitter.com/londonmapbot">the @londonmapbot Twitter bot</a> (<a href="https://www.rostrum.blog/2020/09/21/londonmapbot/">post</a>, <a href="https://github.com/matt-dray/londonmapbot">source</a>, <a href="https://botwiki.org/bot/londonmapbot/">BotWiki</a>). I also enjoyed the fun of mild randomisation in <a href="https://www.rostrum.blog/2021/06/21/recreate-hlito/">my last post about #RecreationThursday</a>.</p>
<p>I’ve made this completely for my own amusement, so no guarantees whatsoever.</p>
</section>
<section id="play-god" class="level2">
<h2 class="anchored" data-anchor-id="play-god">Play god</h2>
<section id="install" class="level3">
<h3 class="anchored" data-anchor-id="install">Install</h3>
<p>You can install {emojiscape} <a href="https://github.com/matt-dray/emojiscape">from GitHub</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">## remotes::install_github("matt-dray/emojiscape")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(emojiscape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The package has one dependency: <a href="https://github.com/hadley/emo">the GitHub-hosted {emo} package</a><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> by Hadley Wickham. It implements emoji in R like <code>emo::ji("sauropod")</code> 🦕.</p>
<p>There’s no guarantee that these particular emoji will display correctly on your device and they <a href="https://emojipedia.org/grimacing-face/">may have different designs</a> if you’re using another operating system.</p>
</section>
<section id="generate" class="level3">
<h3 class="anchored" data-anchor-id="generate">Generate</h3>
<p>Let’s <code>generate()</code> a scene.</p>
<p>The first one is <em>nuts</em>, lol: a classic deciduous <code>woods</code>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">generate</span>(<span class="st">"woods"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>🌳 🐿 🌰 🌰 🌳 🐿 🌰 🌳 🐿 🌰 
🌳 🐿 🌳 🌳 🌰 🌳 🌳 🌰 🌰 🌳 
🌳 🌰 🌳 🌳 🌳 🌳 🌰 🌳 🌳 🌳 
🌳 🌳 🌳 🌳 🌳 🌳 🌰 🌳 🌳 🌳 
🌳 🐿 🌳 🌰 🌳 🌰 🌳 🌳 🌳 🌳 
🌳 🌳 🐿 🌳 🌳 🌳 🌳 🌳 🌰 🌳 
🌰 🐿 🌰 🐿 🌳 🌳 🐿 🌳 🌳 🌳 
🌳 🌰 🌰 🌳 🌳 🌳 🌳 🌳 🌳 🌳 
🌳 🌳 🌳 🌳 🌳 🌳 🌳 🌳 🌳 🌳 
🌳 🌳 🐿 🌳 🌳 🌳 🌳 🌳 🌰 🐿 </code></pre>
</div>
</div>
<p>Hold your breath, we’re going to <code>space</code>. You can resize the output, but space is basically infinite and my console is not.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">generate</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">terrain =</span> <span class="st">"space"</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">grid_size =</span> <span class="dv">7</span>  <span class="co"># i.e. a 7x7 grid</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⬛ ⬛ ⬛ ⬛ ⬛ ⬛ ⬛ 
⭐ ⬛ ⬛ ⬛ ⭐ ⬛ ⬛ 
⭐ ⭐ ⬛ ⭐ ⬛ ⬛ ⬛ 
⬛ ⬛ ⭐ ⬛ ⭐ ⬛ ⬛ 
⬛ ⬛ ⬛ ⬛ ⬛ ⬛ ⬛ 
⬛ ⬛ ⬛ ⭐ 🛰 ⬛ ⬛ 
⬛ ⬛ ⭐ ⭐ ⬛ ⬛ ⭐ </code></pre>
</div>
</div>
<p>Here’s a little raccoon <code>city</code>. Perhaps the <em>residents</em> are <em>evil</em>. (That is a gamer joke, gg.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">generate</span>(<span class="st">"city"</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>🏬 🏢 🏢 🏢 🏢 
🏢 🏬 🏬 🏢 🏢 
🏢 🏢 🏬 🏢 🏢 
🏢 🏢 🏢 🏬 🏢 
🏢 🏢 🦝 🏢 🏢 </code></pre>
</div>
</div>
<p>I have a PhD in dead leaves, so I had to add <code>undergrowth</code>. <em>Ant</em> you glad I included it?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">generate</span>(<span class="st">"undergrowth"</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>🍂 🐜 🍂 🐜 🍂 
🐜 🍄 🍂 🍂 🍂 
🍂 🍂 🍂 🍂 🍂 
🍂 🍂 🐜 🍂 🐜 
🍂 🍂 🍂 🍂 🍂 </code></pre>
</div>
</div>
<p>Here endeth the puns.</p>
</section>
<section id="terrains" class="level3">
<h3 class="anchored" data-anchor-id="terrains">Terrains</h3>
<p>So what are all the available terrain options?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">as.list</span>(<span class="fu">args</span>(generate))<span class="sc">$</span>terrain)[<span class="sc">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "arable"      "city"        "desert"      "forest"      "garden"     
 [6] "liminal"     "mountains"   "ocean"       "pastoral"    "polar"      
[11] "rainforest"  "sky"         "space"       "suburbs"     "traffic"    
[16] "undergrowth" "woods"      </code></pre>
</div>
</div>
<p>This list may go out of date if more options are added in future.</p>
<p>Expand the sections below to see each terrain’s emoji set and previews of the output for each one.</p>
<details>
<summary>
Click for all emoji sets
</summary>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
terrain = "arable"
  terrain        name emoji     freq
1  arable ear_of_corn    🌽   common
2  arable     tractor    🚜 uncommon
3  arable       mouse    🐭     rare

terrain = "city"
  terrain             name emoji     freq
1    city  office_building    🏢   common
2    city department_store    🏬 uncommon
3    city          raccoon    🦝     rare

terrain = "desert"
  terrain   name emoji     freq
1  desert desert     🏜   common
2  desert cactus    🌵 uncommon
3  desert  camel    🐫     rare

terrain = "forest"
  terrain           name emoji     freq
1  forest evergreen_tree    🌲   common
2  forest       squirrel     🐿 uncommon
3  forest christmas_tree    🎄     rare

terrain = "garden"
  terrain          name emoji     freq
1  garden          rose    🌹   common
2  garden      seedling    🌱 uncommon
3  garden wilted_flower    🥀     rare

terrain = "liminal"
  terrain               name emoji     freq
1 liminal white_large_square    ⬜   common
2 liminal               door    🚪 uncommon
3 liminal         light_bulb    💡     rare

terrain = "mountains"
    terrain                 name emoji     freq
1 mountains             mountain     ⛰   common
2 mountains snow_capped_mountain     🏔️ uncommon
3 mountains                 goat    🐐     rare

terrain = "ocean"
  terrain          name emoji     freq
1   ocean    water_wave    🌊   common
2   ocean desert_island     🏝 uncommon
3   ocean       dolphin    🐬     rare

terrain = "pastoral"
   terrain           name emoji     freq
1 pastoral        rooster    🐓   common
2 pastoral            egg    🥚 uncommon
3 pastoral hatching_chick    🐣     rare

terrain = "polar"
  terrain            name emoji     freq
1   polar cloud_with_snow     🌨   common
2   polar       snowflake     ❄️ uncommon
3   polar         penguin    🐧     rare

terrain = "rainforest"
     terrain           name emoji     freq
1 rainforest deciduous_tree    🌳   common
2 rainforest          snake    🐍 uncommon
3 rainforest        gorilla    🦍     rare

terrain = "sky"
  terrain            name emoji     freq
1     sky cloud_with_rain     🌧   common
2     sky         rainbow    🌈 uncommon
3     sky        airplane     ✈️     rare

terrain = "space"
  terrain               name emoji     freq
1   space black_large_square    ⬛   common
2   space               star    ⭐ uncommon
3   space              orbit     🛰     rare

terrain = "suburbs"
  terrain              name emoji     freq
1 suburbs    deciduous_tree    🌳   common
2 suburbs house_with_garden    🏡 uncommon
3 suburbs     person_biking    🚴     rare

terrain = "traffic"
  terrain       name emoji     freq
1 traffic automobile    🚗   common
2 traffic       taxi    🚕 uncommon
3 traffic      truck    🚚     rare

terrain = "undergrowth"
      terrain        name emoji     freq
1 undergrowth fallen_leaf    🍂   common
2 undergrowth         ant    🐜 uncommon
3 undergrowth    mushroom    🍄     rare

terrain = "woods"
  terrain           name emoji     freq
1   woods deciduous_tree    🌳   common
2   woods       chestnut    🌰 uncommon
3   woods       chipmunk     🐿     rare</code></pre>
</div>
</div>
</details>
<details>
<summary>
Click for all previews
</summary>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
terrain = "arable"
🌽 🌽 🌽 🌽 🌽 🌽 🌽 🚜 🌽 🌽 
🌽 🌽 🌽 🌽 🌽 🚜 🚜 🌽 🌽 🌽 
🚜 🌽 🌽 🌽 🌽 🌽 🌽 🚜 🌽 🚜 
🌽 🐭 🌽 🌽 🌽 🌽 🐭 🌽 🚜 🌽 
🌽 🌽 🚜 🌽 🌽 🌽 🌽 🐭 🌽 🌽 
🌽 🌽 🚜 🌽 🚜 🌽 🚜 🌽 🌽 🚜 
🌽 🌽 🌽 🚜 🌽 🌽 🐭 🌽 🌽 🐭 
🚜 🌽 🌽 🌽 🌽 🌽 🌽 🌽 🌽 🌽 
🌽 🌽 🌽 🌽 🚜 🌽 🌽 🌽 🌽 🌽 
🌽 🐭 🌽 🚜 🌽 🌽 🌽 🌽 🌽 🌽 

terrain = "city"
🏢 🏢 🏢 🏢 🏢 🏢 🏢 🏬 🏢 🏢 
🏢 🏢 🏢 🏢 🏢 🏢 🏢 🏢 🏢 🏢 
🏢 🏢 🏢 🏢 🏬 🏬 🏢 🏢 🏢 🏢 
🏢 🏢 🏢 🏢 🏢 🏢 🏬 🏢 🏬 🏢 
🏢 🏢 🏬 🏢 🏢 🏢 🏢 🏢 🦝 🏢 
🏢 🏢 🦝 🏬 🏢 🦝 🏢 🏬 🏢 🏢 
🏬 🏢 🏢 🏬 🏢 🏬 🏢 🏢 🏢 🦝 
🏢 🏢 🏢 🏬 🏢 🏢 🏬 🏬 🏢 🏢 
🏢 🏢 🏢 🏬 🏢 🏢 🏢 🏢 🦝 🏬 
🏢 🏬 🏬 🏢 🏢 🏢 🏢 🏢 🏢 🏢 

terrain = "desert"
🏜 🏜 🏜 🏜 🏜 🌵 🏜 🏜 🏜 🌵 
🏜 🏜 🏜 🏜 🏜 🏜 🌵 🏜 🏜 🏜 
🏜 🏜 🏜 🏜 🏜 🏜 🏜 🏜 🌵 🏜 
🏜 🌵 🏜 🏜 🌵 🏜 🏜 🏜 🌵 🏜 
🏜 🏜 🏜 🏜 🏜 🏜 🌵 🐫 🏜 🏜 
🌵 🏜 🏜 🏜 🏜 🏜 🏜 🏜 🌵 🏜 
🏜 🏜 🏜 🏜 🏜 🌵 🏜 🏜 🏜 🏜 
🏜 🏜 🏜 🏜 🏜 🏜 🏜 🏜 🏜 🏜 
🏜 🏜 🏜 🐫 🏜 🌵 🌵 🏜 🌵 🏜 
🏜 🏜 🏜 🐫 🐫 🏜 🏜 🌵 🌵 🐫 

terrain = "forest"
🌲 🌲 🌲 🐿 🌲 🌲 🌲 🌲 🎄 🌲 
🌲 🌲 🌲 🌲 🌲 🌲 🐿 🌲 🌲 🌲 
🌲 🌲 🌲 🌲 🌲 🌲 🌲 🌲 🌲 🌲 
🌲 🌲 🐿 🌲 🌲 🌲 🐿 🌲 🌲 🌲 
🐿 🌲 🌲 🌲 🎄 🌲 🐿 🌲 🌲 🎄 
🌲 🌲 🌲 🌲 🐿 🌲 🌲 🎄 🌲 🌲 
🐿 🌲 🐿 🌲 🎄 🌲 🐿 🌲 🐿 🌲 
🌲 🌲 🌲 🌲 🌲 🌲 🌲 🌲 🌲 🐿 
🌲 🌲 🌲 🌲 🌲 🌲 🌲 🌲 🌲 🌲 
🌲 🌲 🌲 🌲 🌲 🌲 🌲 🌲 🐿 🌲 

terrain = "garden"
🌱 🌹 🌹 🌹 🌱 🌹 🌹 🌹 🌹 🌱 
🌹 🌹 🌹 🌹 🌱 🌹 🌹 🌱 🥀 🌹 
🌹 🌱 🌹 🌹 🌹 🌹 🌹 🌹 🥀 🌱 
🥀 🌱 🌹 🌱 🌹 🌹 🌹 🌹 🌹 🌹 
🌱 🥀 🌹 🌹 🌹 🥀 🌹 🌹 🌱 🌹 
🌹 🌹 🌱 🌹 🌹 🌹 🥀 🌹 🌹 🌹 
🌱 🌱 🌹 🌹 🌹 🌹 🌹 🌱 🌹 🌹 
🌹 🌹 🌱 🌹 🌹 🌹 🌹 🌹 🌱 🌹 
🌹 🌹 🌹 🌱 🌹 🌹 🌹 🌹 🌹 🌹 
🌱 🌹 🌱 🌹 🌹 🌹 🌹 🌹 🌹 🌱 

terrain = "liminal"
⬜ ⬜ ⬜ ⬜ ⬜ 🚪 ⬜ ⬜ ⬜ 🚪 
⬜ ⬜ ⬜ ⬜ ⬜ ⬜ 🚪 ⬜ ⬜ ⬜ 
⬜ ⬜ ⬜ ⬜ ⬜ ⬜ ⬜ ⬜ 🚪 ⬜ 
⬜ ⬜ ⬜ ⬜ 🚪 ⬜ ⬜ ⬜ ⬜ ⬜ 
⬜ 🚪 ⬜ ⬜ 🚪 🚪 ⬜ 🚪 ⬜ ⬜ 
⬜ 🚪 ⬜ ⬜ 💡 ⬜ ⬜ 🚪 ⬜ ⬜ 
⬜ 🚪 🚪 🚪 ⬜ ⬜ ⬜ ⬜ ⬜ ⬜ 
⬜ ⬜ ⬜ ⬜ ⬜ ⬜ ⬜ 🚪 ⬜ ⬜ 
⬜ ⬜ 🚪 ⬜ 🚪 ⬜ 🚪 ⬜ ⬜ ⬜ 
⬜ 🚪 🚪 ⬜ 🚪 ⬜ ⬜ ⬜ ⬜ ⬜ 

terrain = "mountains"
⛰ ⛰ ⛰ 🐐 ⛰ ⛰ 🏔️ ⛰ ⛰ ⛰ 
⛰ ⛰ ⛰ 🏔️ ⛰ ⛰ 🏔️ ⛰ ⛰ ⛰ 
⛰ 🏔️ ⛰ ⛰ 🏔️ ⛰ ⛰ ⛰ ⛰ ⛰ 
⛰ ⛰ ⛰ ⛰ ⛰ ⛰ ⛰ ⛰ 🏔️ ⛰ 
⛰ ⛰ ⛰ ⛰ ⛰ ⛰ 🐐 ⛰ ⛰ 🐐 
⛰ 🐐 🏔️ ⛰ ⛰ ⛰ ⛰ ⛰ 🏔️ 🏔️ 
⛰ ⛰ ⛰ 🏔️ 🐐 ⛰ 🏔️ 🏔️ ⛰ ⛰ 
⛰ 🏔️ 🐐 ⛰ ⛰ ⛰ ⛰ ⛰ ⛰ ⛰ 
🏔️ ⛰ ⛰ ⛰ ⛰ 🏔️ 🏔️ ⛰ 🏔️ 🐐 
🐐 🏔️ ⛰ ⛰ ⛰ ⛰ ⛰ 🏔️ ⛰ 🏔️ 

terrain = "ocean"
🐬 🌊 🏝 🏝 🌊 🌊 🌊 🌊 🌊 🌊 
🐬 🌊 🌊 🌊 🌊 🌊 🐬 🌊 🌊 🌊 
🌊 🌊 🌊 🌊 🌊 🌊 🏝 🏝 🌊 🌊 
🌊 🏝 🌊 🌊 🌊 🌊 🌊 🌊 🐬 🌊 
🌊 🌊 🌊 🏝 🌊 🌊 🌊 🌊 🌊 🌊 
🌊 🌊 🐬 🌊 🐬 🌊 🌊 🌊 🏝 🌊 
🌊 🏝 🏝 🌊 🌊 🏝 🌊 🌊 🌊 🌊 
🌊 🌊 🏝 🌊 🌊 🌊 🌊 🐬 🌊 🌊 
🏝 🌊 🌊 🏝 🌊 🐬 🌊 🌊 🏝 🌊 
🌊 🌊 🌊 🌊 🏝 🌊 🌊 🏝 🏝 🌊 

terrain = "pastoral"
🐓 🥚 🥚 🥚 🐓 🐓 🐓 🐓 🐓 🐓 
🐓 🐓 🐓 🐓 🐣 🐓 🥚 🐓 🐓 🐣 
🐓 🐓 🐓 🐓 🐓 🐓 🐓 🐓 🐣 🐓 
🐓 🐓 🥚 🐓 🐓 🐓 🐓 🐓 🐓 🐣 
🐓 🐣 🐓 🐓 🐓 🐓 🐓 🐓 🐓 🐓 
🥚 🐓 🥚 🐓 🐓 🐓 🐓 🐓 🐣 🐣 
🐓 🐓 🐓 🐓 🐓 🥚 🥚 🐓 🐣 🐓 
🐓 🐓 🐓 🥚 🐓 🐓 🐓 🐓 🐓 🐓 
🥚 🐓 🐓 🐓 🥚 🥚 🥚 🐓 🐓 🐓 
🥚 🐓 🥚 🥚 🥚 🐣 🐓 🥚 🐓 🥚 

terrain = "polar"
🌨 ❄️ ❄️ 🌨 ❄️ 🌨 🌨 🌨 ❄️ 🌨 
🌨 🌨 🌨 🌨 🌨 🌨 ❄️ 🌨 🌨 🌨 
🌨 🌨 🐧 🌨 ❄️ 🐧 🌨 ❄️ ❄️ 🌨 
❄️ 🌨 🌨 🌨 🌨 🌨 ❄️ 🌨 ❄️ 🌨 
🌨 🌨 ❄️ 🐧 ❄️ ❄️ ❄️ 🌨 🌨 ❄️ 
🌨 🌨 🌨 🌨 🌨 ❄️ 🌨 🌨 🌨 ❄️ 
🌨 ❄️ 🌨 🌨 🌨 ❄️ 🌨 🌨 🌨 🌨 
🌨 🌨 🐧 ❄️ 🌨 ❄️ 🌨 🌨 ❄️ 🌨 
🌨 🌨 🌨 🌨 ❄️ 🌨 🌨 🌨 🌨 🌨 
🌨 ❄️ 🌨 🌨 🌨 🌨 🌨 🐧 ❄️ 🌨 

terrain = "rainforest"
🌳 🌳 🌳 🌳 🌳 🌳 🦍 🌳 🌳 🌳 
🌳 🐍 🐍 🐍 🌳 🦍 🌳 🌳 🌳 🌳 
🌳 🌳 🌳 🌳 🦍 🌳 🦍 🌳 🌳 🐍 
🌳 🌳 🌳 🌳 🌳 🌳 🌳 🐍 🌳 🌳 
🌳 🌳 🐍 🦍 🌳 🌳 🌳 🐍 🌳 🐍 
🌳 🌳 🐍 🌳 🐍 🌳 🐍 🌳 🌳 🌳 
🌳 🌳 🌳 🌳 🐍 🌳 🌳 🌳 🌳 🌳 
🐍 🌳 🌳 🌳 🦍 🌳 🌳 🌳 🌳 🌳 
🌳 🌳 🦍 🌳 🌳 🌳 🌳 🐍 🌳 🐍 
🐍 🌳 🌳 🐍 🌳 🌳 🐍 🌳 🌳 🌳 

terrain = "sky"
🌧 🌧 🌧 🌧 🌧 🌧 🌧 🌧 🌈 🌈 
🌧 🌧 🌧 🌧 🌧 🌈 🌧 🌧 🌈 🌧 
🌧 🌧 🌈 🌧 ✈️ 🌧 🌧 🌧 🌧 ✈️ 
🌧 🌧 🌧 ✈️ 🌧 🌧 🌧 🌧 🌧 🌈 
🌧 🌧 🌧 🌧 🌈 🌧 🌧 🌧 🌧 🌧 
🌈 🌧 🌧 🌧 🌧 🌧 🌧 🌈 🌧 🌧 
🌧 🌈 🌧 🌧 🌧 🌧 🌧 🌧 🌧 🌧 
🌧 🌧 🌧 🌧 🌈 🌧 🌧 ✈️ 🌈 🌈 
✈️ 🌧 🌧 🌧 🌧 🌧 🌧 🌧 🌈 🌈 
🌈 🌧 🌧 🌧 🌧 🌧 🌈 🌧 🌈 🌧 

terrain = "space"
⬛ ⬛ ⬛ ⬛ ⬛ ⬛ ⬛ ⬛ ⬛ ⭐ 
⬛ ⬛ ⭐ ⬛ ⬛ ⬛ ⬛ ⭐ ⬛ ⬛ 
⬛ ⬛ ⬛ ⭐ ⭐ ⬛ ⭐ ⭐ ⬛ ⬛ 
⭐ ⬛ ⬛ ⭐ ⬛ 🛰 ⬛ 🛰 ⬛ ⭐ 
⬛ ⬛ ⬛ 🛰 ⭐ ⬛ ⬛ 🛰 ⬛ ⭐ 
⭐ ⬛ ⭐ ⬛ ⬛ ⬛ ⬛ ⬛ ⭐ ⬛ 
⬛ ⬛ ⭐ ⬛ ⬛ ⬛ ⬛ ⬛ ⬛ ⭐ 
⭐ ⭐ ⬛ ⬛ ⭐ ⬛ ⬛ ⬛ ⭐ ⬛ 
⬛ ⬛ ⬛ ⬛ ⭐ ⬛ ⬛ ⬛ ⭐ ⭐ 
⭐ ⬛ ⭐ ⬛ 🛰 ⬛ ⬛ ⬛ ⬛ ⬛ 

terrain = "suburbs"
🌳 🌳 🏡 🌳 🌳 🌳 🌳 🌳 🌳 🌳 
🌳 🏡 🌳 🌳 🏡 🌳 🏡 🌳 🚴 🏡 
🌳 🌳 🏡 🌳 🌳 🏡 🌳 🌳 🌳 🌳 
🌳 🌳 🌳 🌳 🏡 🌳 🌳 🚴 🌳 🌳 
🌳 🌳 🏡 🏡 🌳 🏡 🌳 🏡 🌳 🌳 
🌳 🌳 🏡 🌳 🌳 🏡 🌳 🏡 🌳 🏡 
🌳 🏡 🌳 🏡 🌳 🌳 🏡 🏡 🌳 🏡 
🌳 🌳 🌳 🌳 🌳 🚴 🏡 🌳 🏡 🌳 
🌳 🌳 🌳 🚴 🌳 🌳 🌳 🏡 🌳 🌳 
🌳 🏡 🌳 🏡 🌳 🌳 🏡 🏡 🌳 🌳 

terrain = "traffic"
🚗 🚗 🚗 🚗 🚕 🚗 🚗 🚕 🚗 🚕 
🚗 🚗 🚗 🚗 🚕 🚗 🚗 🚚 🚗 🚗 
🚗 🚕 🚗 🚗 🚗 🚗 🚗 🚗 🚗 🚗 
🚗 🚗 🚚 🚗 🚗 🚗 🚗 🚗 🚕 🚗 
🚗 🚗 🚗 🚗 🚕 🚗 🚗 🚗 🚗 🚗 
🚗 🚗 🚚 🚗 🚗 🚗 🚕 🚗 🚕 🚗 
🚕 🚗 🚕 🚗 🚗 🚗 🚗 🚕 🚗 🚕 
🚕 🚕 🚕 🚕 🚗 🚗 🚕 🚗 🚗 🚗 
🚕 🚕 🚗 🚗 🚚 🚗 🚗 🚗 🚕 🚗 
🚗 🚗 🚗 🚗 🚗 🚗 🚗 🚗 🚗 🚚 

terrain = "undergrowth"
🍂 🐜 🐜 🐜 🍂 🍂 🐜 🍂 🍂 🍂 
🍂 🍂 🍂 🍂 🍂 🐜 🍂 🍂 🍂 🍂 
🍂 🐜 🍂 🍂 🍂 🐜 🍂 🍂 🍂 🐜 
🍂 🐜 🐜 🍂 🍂 🍂 🐜 🍂 🍂 🍂 
🍂 🍂 🍂 🍂 🍂 🍂 🍂 🐜 🍂 🍂 
🍂 🍂 🍂 🍂 🍂 🐜 🍂 🐜 🍄 🍂 
🍂 🍄 🍂 🍂 🍂 🍂 🐜 🍂 🍂 🍂 
🍂 🍂 🐜 🍂 🐜 🍂 🍂 🍂 🍂 🍂 
🍂 🍂 🍂 🐜 🍄 🍂 🍂 🍂 🍂 🐜 
🐜 🍂 🍂 🍂 🍂 🍂 🍂 🍂 🍂 🍂 

terrain = "woods"
🌳 🌳 🌳 🌰 🌰 🌳 🌳 🌳 🌳 🌳 
🌳 🌰 🌳 🌰 🌳 🌰 🌳 🌳 🌳 🌳 
🌳 🌰 🌰 🌳 🌳 🐿 🌳 🌳 🐿 🌳 
🌰 🌳 🌳 🌳 🌳 🌰 🌳 🌳 🌰 🌳 
🌰 🌳 🌰 🌳 🌳 🌳 🌳 🌳 🌳 🌰 
🌳 🌳 🌳 🌳 🌳 🌳 🌳 🌰 🌳 🌳 
🌳 🌳 🌳 🌳 🌳 🌳 🐿 🌰 🌳 🌳 
🌳 🌳 🌰 🌰 🌰 🌳 🌰 🌳 🌳 🌰 
🌳 🌳 🌰 🌰 🌳 🌳 🌳 🌳 🌳 🌰 
🌳 🌳 🌳 🌳 🌳 🌳 🌳 🌳 🌳 🌳 </code></pre>
</div>
</div>
</details>
</section>
<section id="frequencies" class="level3">
<h3 class="anchored" data-anchor-id="frequencies">Frequencies</h3>
<p>Use <code>get_set()</code> to see each terrain’s emoji set and their ‘suggested frequency’ slot. In general, the most common emoji is the one that defines the background or vegetation and the rarer ones are creatures or whatever.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_set</span>(<span class="st">"mountains"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    terrain                 name emoji     freq
1 mountains             mountain     ⛰   common
2 mountains snow_capped_mountain     🏔️ uncommon
3 mountains                 goat    🐐     rare</code></pre>
</div>
</div>
<p>But you can totally mess with these emoji sampling probabilities in <code>generate()</code>.</p>
<p>Any <a href="https://en.wikipedia.org/wiki/The_Mountain_Goats"><em>The Mountain Goats</em></a> fans?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">generate</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">terrain =</span> <span class="st">"mountains"</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">prob_common =</span> <span class="fl">0.1</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">prob_uncommon =</span> <span class="fl">0.2</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">prob_rare =</span> <span class="fl">0.7</span>  <span class="co"># INCREASE GOAT FREQUENCY</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>🐐 🏔️ 🐐 ⛰ 🐐 🐐 🐐 🏔️ 🐐 🐐 
🏔️ 🐐 ⛰ 🐐 🐐 🐐 🐐 🏔️ 🐐 🐐 
🐐 🐐 🏔️ 🐐 🐐 🐐 ⛰ 🐐 🐐 🐐 
🐐 🐐 🐐 🐐 ⛰ 🐐 🐐 🏔️ 🐐 🐐 
🐐 🐐 🐐 🐐 🏔️ 🐐 🐐 🐐 ⛰ 🐐 
🐐 🐐 🐐 🐐 🏔️ 🐐 🏔️ 🐐 🐐 🐐 
🏔️ 🐐 ⛰ 🏔️ 🐐 🐐 ⛰ 🐐 ⛰ 🐐 
🐐 🐐 🐐 ⛰ 🐐 ⛰ 🐐 🏔️ 🐐 🏔️ 
🏔️ 🐐 🐐 🐐 🐐 🐐 🏔️ 🏔️ 🏔️ 🏔️ 
🏔️ 🏔️ ⛰ 🐐 🐐 🏔️ 🐐 🐐 🏔️ 🐐 </code></pre>
</div>
</div>
</section>
</section>
<section id="approach" class="level2">
<h2 class="anchored" data-anchor-id="approach">Approach</h2>
<p>The <code>generate()</code> function is pretty simple. What it does is:</p>
<ol type="1">
<li>Creates a vector of emojis with a length of <code>grid_size()</code> squared, sampled from the specified <code>terrain</code> set with frequencies from the <code>prob_*</code> arguments</li>
<li>Coerces this vector to a matrix of length and width <code>grid_size()</code> (i.e.&nbsp;a square)</li>
<li>Loops over each row of the matrix with <code>cat()</code> to print the output to the console</li>
</ol>
<p>It works.</p>
</section>
<section id="expansion" class="level2">
<h2 class="anchored" data-anchor-id="expansion">Expansion</h2>
<p>If you really want, you can add a <code>terrain</code> option by raising <a href="https://github.com/matt-dray/emojiscape/issues">a new issue</a> or pull request in <a href="https://github.com/matt-dray/emojiscape">the {emojiscape} GitHub repo</a>. These are specified in the <code>.get_emoji()</code> function in the <a href="https://github.com/matt-dray/emojiscape/blob/main/R/utils.R">/R/utils.R</a> script.</p>
</section>



<div id="quarto-appendix" class="default"><section id="environment" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Environment</h2><div class="quarto-appendix-contents">

<details>
<summary>
Session info
</summary>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Last rendered: 2023-07-17 18:35:09 BST</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.1 (2023-06-16)
Platform: aarch64-apple-darwin20 (64-bit)
Running under: macOS Ventura 13.2.1

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: Europe/London
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] emojiscape_0.0.0.9000

loaded via a namespace (and not attached):
 [1] digest_0.6.31     assertthat_0.2.1  lubridate_1.9.2   fastmap_1.1.1    
 [5] xfun_0.39         magrittr_2.0.3    glue_1.6.2        stringr_1.5.0    
 [9] knitr_1.43.1      htmltools_0.5.5   timechange_0.2.0  generics_0.1.3   
[13] rmarkdown_2.23    lifecycle_1.0.3   cli_3.6.1         vctrs_0.6.3      
[17] compiler_4.3.1    purrr_1.0.1       emo_0.0.0.9000    rstudioapi_0.15.0
[21] tools_4.3.1       evaluate_0.21     yaml_2.3.7        crayon_1.5.2     
[25] rlang_1.1.1       jsonlite_1.8.7    htmlwidgets_1.6.2 stringi_1.7.12   </code></pre>
</div>
</div>
</details>


</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>In turn, {emo} is built on <a href="https://github.com/muan/emojilib/">emojilib</a>, which is where I got the emoji names in the form ‘some_emoji’ for {emojiscape}.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Not to scale. Or, y’know, use your imagination.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div id="quarto-reuse" class="quarto-appendix-contents"><div>CC BY-NC-SA 4.0</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>