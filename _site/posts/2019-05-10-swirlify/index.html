<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matt Dray">
<meta name="dcterms.date" content="2019-05-10">

<title>rostrum.blog - Teach a person to {swirl}</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/logo-green-trans.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="rostrum.blog - Teach a person to {swirl}">
<meta property="og:description" content="">
<meta property="og:image" content="https://www.rostrum.blog/posts/2019-05-10-swirlify/resources/robot-swirl.gif">
<meta property="og:site-name" content="rostrum.blog">
<meta name="twitter:title" content="rostrum.blog - Teach a person to {swirl}">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://www.rostrum.blog/posts/2019-05-10-swirlify/resources/robot-swirl.gif">
<meta name="twitter:creator" content="@mattdray">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/logo-green-trans.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">rostrum.blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target=""><i class="bi bi-question-circle-fill" role="img">
</i> 
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.xml" rel="" target=""><i class="bi bi-rss-fill" role="img" aria-label="RSS feed">
</i> 
 <span class="menu-text">RSS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/matt-dray/rostrum-blog-2" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub source code">
</i> 
 <span class="menu-text">Source</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Teach a person to {swirl}</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">r</div>
                <div class="quarto-category">swirl</div>
                <div class="quarto-category">swirlify</div>
                <div class="quarto-category">tidyswirl</div>
                <div class="quarto-category">yaml</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Matt Dray </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 10, 2019</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="resources/robot-swirl.gif" class="img-fluid figure-img" style="width:60.0%" alt="A robot creates multiple cookie swirls on a conveyor belt."></p>
<figcaption class="figure-caption">A metaphor for all the {swirl} courses you’ll make (via <a href="https://giphy.com/gifs/cookie-swirl-depositor-LJpWh180LBOF2">Giphy</a>)</figcaption>
</figure>
</div>
<section id="tldr" class="level2">
<h2 class="anchored" data-anchor-id="tldr">tl;dr</h2>
<p>Teach people to teach other people. That seems an efficient way to maximise impact.</p>
<ul>
<li><a href="https://swirlstats.com/">{swirl}</a> lets people learn R from within R</li>
<li><a href="http://swirlstats.com/swirlify/">{swirlify}</a> is a package to help write Swirl courses</li>
<li>This post explains how to start a Swirl course with Swirlify</li>
<li>For example, I’ve begun <a href="https://github.com/matt-dray/tidyswirl">Tidyswirl</a> for teaching <a href="https://www.tidyverse.org/">tidyverse</a> packages</li>
</ul>
<div class="tip">
<p><svg aria-hidden="true" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"></path></svg> <b>Note</b></p>
<p>I never got around to fully developing Tidyswirl and so I archived the GitHub repo. You should take a look at <a href="https://github.com/sysilviakim/swirl-tidy">swirl-tidy by Seo-young Silvia Kim</a> instead.</p>
</div>
<p>
</p></section>
<section id="swirl" class="level2">
<h2 class="anchored" data-anchor-id="swirl">Swirl</h2>
<p><a href="https://swirlstats.com/">Swirl</a> is a platform that:</p>
<blockquote class="blockquote">
<p>teaches you R programming and data science interactively, at your own pace, and right in the R console!</p>
</blockquote>
<p>Learning with Swirl is active and your understanding is checked throughout. You can move at your own pace and download additional courses to learn about new things. And it’s free.</p>
<p>Install and load Swirl to begin and then follow the instructions printed in the console.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"swirl"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(swirl)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">swirl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here’s what the first few lines of interaction with Swirl look like.</p>
<p><img src="resources/swirl-startup-console.png" class="img-fluid" alt="The R console showing input to Swirl and some responses, like Swirl asks 'What shall I call you?' and 'Matt' has been input."></p>
<p>You’ll be given a list of courses to install, but you can also download them from elsewhere. This post is about how you can quickly create and distribute such a course.</p>
</section>
<section id="swirlify" class="level2">
<h2 class="anchored" data-anchor-id="swirlify">Swirlify</h2>
<p>Sean Kross and Nick Carchedi have created <a href="https://CRAN.R-project.org/package=swirlify">the {swirlify} package</a> to make course creation easy. This post covers a simple workflow to get you started, but <a href="http://swirlstats.com/swirlify/">full Swirlify guidance</a> is available.</p>
<section id="get-up-and-running" class="level3">
<h3 class="anchored" data-anchor-id="get-up-and-running">Get up and running</h3>
<p>Create a new lesson folder (‘Lesson 1’), which will be autopopulated with template files for your lesson. This will also create a new parent course folder (‘New Course’) if it doesn’t already exist.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(swirl)  <span class="co"># install.packages("swirl")</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(swirlify)  <span class="co"># install.packages("swirlify")</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">new_lesson</span>(<span class="at">course_name =</span> <span class="st">"New Course"</span>, <span class="at">lesson_name =</span> <span class="st">"Lesson 1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The following folder structure is generated:</p>
<pre><code>Working directory/
└── New_Course/
    └── Lesson_1/
        ├── customTests.R
        ├── dependson.txt
        ├── initLesson.R
        └── lesson.yaml</code></pre>
<p>The <code>lesson.yaml</code> file is the most important one. It’s basically a text file where each question is stored as text. Users advance through each of these questions when they run the lesson.</p>
<p>The lesson file can be edited directly, but we’ll focus on the built-in Swirlify Shiny app for simplicity:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">swirlify</span>(<span class="at">course_name =</span> <span class="st">"New Course"</span>, <span class="at">lesson_name =</span> <span class="st">"Lesson 1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The app will open the named lesson from the named course in a new browser window. On the left is where you create new questions. On the right you can see the <code>lesson.yaml</code> file itself.</p>
<p><img src="resources/swirlify-start.png" class="img-fluid" alt="The Swirlify Shiny GUI for writing lessons, showing a dropdown box for the lesson type, a box for writing output, the YAML code for the lesson so far, and buttons for saving and demoing the code."></p>
<p>Note the ‘Help’ tab, which tells you about the types of questions you can make, or you can see the <a href="http://swirlstats.com/swirlify/writing.html#types_of_questions">Swirlify guidance</a>). Basically the question types are:</p>
<ul>
<li>‘message’ for informational text (not for questions per se)</li>
<li>‘command’ for answers that require simple R expressions as answers</li>
<li>‘numerical’ and ‘text’ for answers that are numbers or words</li>
<li>‘multiple choice’ for multiple choice (as in the figure above)</li>
<li>‘figure’ and ‘video’ for referring to media (‘video’ can take a user to any URL)</li>
<li>‘script’ for longer R expressions that requires you to write custom answer tests (this is more advanced)</li>
</ul>
<p>To build a question:</p>
<ol type="1">
<li>Choose a question type from the dropdown menu on the left</li>
<li>Fill in the text boxes (note that the answer tests box is completed for you if you type into the correct answer box and then press the ‘Make Answer Test from Correct Answer’ button)</li>
<li>Click the ‘Add Question’ button see the question added to the file (on the right hand side)</li>
<li>Click ‘Save Lesson’</li>
<li>Run <code>test_lesson()</code> to look for errors</li>
<li>Click ‘Demo Lesson’ to try it out</li>
</ol>
<p><img src="resources/swirlify-demo.gif" class="img-fluid" alt="A gif showing the process of creating a question with Swirlify's Shiny GUI, adding it to the YAML for the lesson and then saving it."></p>
<p>Continue adding questions until the lesson is complete. Then:</p>
<ol type="1">
<li>Run <code>add_to_manifest()</code> to add the lesson to the <code>MANIFEST</code> file (it’ll be created in the course directory if it doesn’t already exist). Lessons in here are recognised as part of the course in the declared order.</li>
<li>Use <code>new_lesson()</code> to create a new one, remembering to change the <code>lesson_name</code> argument and also add this lesson to the MANIFEST as well.</li>
</ol>
<p>You should end up with a folder structure like this:</p>
<pre><code>Working directory/
└── New_Course/
    ├── Lesson_1/
    |   ├── customTests.R
    |   ├── dependson.txt
    |   ├── initLesson.R
    |   └── lesson.yaml
    ├─ Lesson_2/
    |   ├── customTests.R
    |   ├── dependson.txt
    |   ├── initLesson.R
    |   └── lesson.yaml
    └─ MANIFEST</code></pre>
<p>When your lessons are completed, you’re ready to share your course. Jump now to the <a href="#share">share your course</a> section or first learn some extra knowledge about <a href="#structure">lesson file structure</a>, <a href="#correct">correct answers</a> or <a href="#startup">lesson startup</a> below.</p>
</section>
<section id="extra-knowledge" class="level3">
<h3 class="anchored" data-anchor-id="extra-knowledge">Extra knowledge</h3>
<p>Clearly the process of course building is more nuanced than outlined above, but you can learn more from the documentation on the <a href="http://swirlstats.com/swirlify/index.html">Swirlify</a> site and <a href="https://cran.r-project.org/web/packages/swirlify/swirlify.pdf">reference manual</a>. In particular, See the <a href="http://swirlstats.com/swirlify/structure.html">course structure</a> and <a href="http://swirlstats.com/swirlify/writing.html">writing lessons</a> pages of the Swirlify guidance.</p>
<p>I’ll touch on three things here: lesson file structure, correct answers and lesson start-up.</p>
<section id="structure" class="level4">
<h4 class="anchored" data-anchor-id="structure">Lesson file structure</h4>
<p>The lesson file is written in <a href="https://en.wikipedia.org/wiki/YAML">YAML</a>, which is basically a special form of plain text. Questions appear as separate blocks of text that start with a hyphen and a question type (class) declaration, followed by further arguments on new indented lines.</p>
<p>The first block is always <code>Class: meta</code> and provides basic information about the file, like your name and the lesson name. Another simple one is <code>Class: text</code> to which you supply only one more argument, the <code>Output</code>, which is text to display to the user.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Class<span class="sc">:</span> text</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  Output<span class="sc">:</span> Did I mention chocolate hobnobs are great?</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There are actually three ways to add questions:</p>
<ol type="1">
<li>In the Shiny app, as outlined earlier in this post.</li>
<li>By using the <code>wq_*()</code> family of functions to add questions to the active lesson – <code>wq_message(output = "Text here")</code> adds informative text, for example.</li>
<li>By writing directly into the YAML file.</li>
</ol>
<p>There’s more on questions classes and how to write them <a href="http://swirlstats.com/swirlify/writing.html#types-of-questions">in the Swirlify guidance</a>.</p>
</section>
<section id="correct" class="level4">
<h4 class="anchored" data-anchor-id="correct">Correct answers</h4>
<p>How are answers encoded and checked in <code>lesson.yaml</code>? Consider the YAML for this question:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Class<span class="sc">:</span> cmd_question</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  Output<span class="sc">:</span> Use <span class="fu">mean</span>() to calculate the mean of the numbers <span class="dv">1</span> to <span class="fl">5.</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  CorrectAnswer<span class="sc">:</span> <span class="fu">mean</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  AnswerTests<span class="sc">:</span> <span class="fu">omnitest</span>(<span class="at">correctExpr=</span><span class="st">'mean(1:5'</span>)<span class="er">)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  Hint<span class="sc">:</span> Use the form x<span class="sc">:</span>y to provide numbers to <span class="fu">mean</span>().</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So <code>CorrectAnswer</code> is where you provide the correct answer (!). This line will be run if the user chooses to <code>skip()</code> the question. <code>AnswerTests</code> is, however, what the user’s input will actually be evaluated against. It uses the <code>omnitest</code> function to compare the correct expression (<code>correctExpr</code>) to the user’s answer.</p>
<p>But often there’s more than one way to answer. The <code>any_of_exprs()</code> function should be used in this case.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Class<span class="sc">:</span> cmd_question</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  Output<span class="sc">:</span> Use <span class="fu">mean</span>() to calculate the mean of the numbers <span class="dv">1</span> to <span class="fl">5.</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  CorrectAnswer<span class="sc">:</span> <span class="fu">mean</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  AnswerTests<span class="sc">:</span> <span class="fu">any_of_exprs</span>(<span class="st">'mean(1:5)'</span>, <span class="st">'mean(c(1, 2, 3, 4, 5))'</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  Hint<span class="sc">:</span> You can use the form x<span class="sc">:</span>y or <span class="fu">c</span>(x, y) to provide numbers to <span class="fu">mean</span>().</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There’s more on answer testing <a href="http://swirlstats.com/swirlify/writing.html#answer-testing">in the Swirlify guidance</a>, including how to write custom answer tests.</p>
</section>
<section id="startup" class="level4">
<h4 class="anchored" data-anchor-id="startup">Lesson start-up</h4>
<p>Anything in the <code>initLesson.R</code> file will be run when the lesson is loaded. You can create objects and refer to them in your questions. For example, you could add a data frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>biscuits <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Chocolate hobnob"</span>, <span class="st">"Digestive"</span>, <span class="st">"Custard cream"</span>),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">rating =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">7</span>) </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You could then ask in <code>lesson.yaml</code> something like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Class<span class="sc">:</span> cmd_question</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  Output<span class="sc">:</span> Use index notation to subset <span class="cf">for</span> biscuits rated over <span class="fl">5.</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  CorrectAnswer<span class="sc">:</span> biscuits[biscuits<span class="sc">$</span>rating <span class="sc">&gt;</span> <span class="dv">5</span>, ]</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  AnswerTests<span class="sc">:</span> <span class="fu">omnitest</span>(<span class="at">correctExpr=</span><span class="st">'biscuits[, biscuits$rating &gt; 5]'</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  Hint<span class="sc">:</span> Remember the indexing format dataframe[rows, columns].</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The data frame was loaded on start-up, so the user can interact with it to answer the question.</p>
<p>You can also add data sets to the lesson folder and read them into the user’s environment via the <code>initLesson.R</code> file. See the Swirlify <a href="http://swirlstats.com/swirlify/structure.html#including-data">guidance on including data</a> for more information.</p>
</section>
</section>
<section id="share" class="level3">
<h3 class="anchored" data-anchor-id="share">Share your course</h3>
<p>Congratulations. You’re ready to share your course.</p>
<p>There are <a href="http://swirlstats.com/swirlify/sharing.html">several ways to do this</a>. It’s easiest for learners to use Swirl’s <code>swirl::install_course_*()</code> functions to install courses from:</p>
<ul>
<li>a GitHub repo</li>
<li>a zip file stored on DropBox, Google Drive, or some URL</li>
<li>a course folder—zipped or not—-downloaded locally on their machine</li>
</ul>
<p>You can also compress your course to a single <code>.swc</code> file with <code>compress_course()</code> and raise a pull request for it to be hosted on the <a href="http://swirlstats.com/scn/">Swirl Course Network</a>. It can be downloaded from there with <code>install_course()</code>.</p>
<p>Swirl is strengthened by having a greater number and range of courses.</p>
</section>
</section>
<section id="plea" class="level2">
<h2 class="anchored" data-anchor-id="plea">Plea</h2>
<p>The R community is large and friendly. Swirl helps people learn. It would be great to see more courses being made. Consider making one to teach your colleagues about common R tasks in your department, for example.</p>
</section>


<div id="quarto-appendix" class="default"><section id="environment" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Environment</h2><div class="quarto-appendix-contents">

<details>
<summary>
Session info
</summary>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Last rendered: 2023-08-01 19:49:01 BST</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.1 (2023-06-16)
Platform: aarch64-apple-darwin20 (64-bit)
Running under: macOS Ventura 13.2.1

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: Europe/London
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
 [1] htmlwidgets_1.6.2 compiler_4.3.1    fastmap_1.1.1     cli_3.6.1        
 [5] tools_4.3.1       htmltools_0.5.5   rstudioapi_0.15.0 yaml_2.3.7       
 [9] rmarkdown_2.23    knitr_1.43.1      jsonlite_1.8.7    xfun_0.39        
[13] digest_0.6.33     rlang_1.1.1       fontawesome_0.5.1 evaluate_0.21    </code></pre>
</div>
</div>
</details>


</div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div id="quarto-reuse" class="quarto-appendix-contents"><div>CC BY-NC-SA 4.0</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>